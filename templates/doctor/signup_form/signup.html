{% extends "basic.html" %}
{% load static %}

{% block head %}

<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Add icon library -->
<link rel="stylesheet" href="{% static 'doctor/signup_form/signup.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


{% endblock %}




{% block body %}

<br><br>

<form action='signup_doctor' method="POST" style="max-width:500px;margin:auto">

  <h2></b><center>SIGN UP AS DOCTOR</center></b></h2>

  <br>
  
  {% csrf_token %}
  
  <center>
      <div>
        {% for message in messages %}
        <div class="alert alert-warning" role="alert">
            <h3 style="color: red;">{{message}}</h3>
          </div>
        {% endfor %}
      </div>
      </center>


<br>


  <div class="input-container">
    <i class="fa fa-user icon"></i>
    <input class="input-field" type="text" placeholder="Username" name="username" required>
  </div>


  <div class="input-container">
    <i class="fa fa-user icon"></i>
    <input class="input-field" type="text" placeholder="Full Name" name="name" required>
  </div>

  <div class="input-container">
    <i class="fa fa-envelope icon"></i>
    <input class="input-field" type="text" placeholder="Email" name="email" required>
  </div>
   <div class="input-container">
    <i class="fa fa-birthday-cake icon"></i>
    <input class="input-field" type="date" placeholder="Date-of-birth" name="dob" style="width: 50%;" required><pre>     Date Of Birth      </pre>
  </div>

  
  <div class="input-container">
    <i class="fas fa-venus-mars icon"></i> &nbsp; &nbsp;
  <input class="radio-btn" type="radio" name="gender" value="male" checked> Male 
  <input class="radio-btn" type="radio" name="gender" value="female"> Female
  <input class="radio-btn" type="radio" name="gender" value="other"> Other 
 
  </div>
  
  
  <div class="input-container">
    <i class="fa fa-address-book icon"></i>
    <input class="input-field" type="text" placeholder="Address" name="address" required>
  </div>
  <div class="input-container">
    <i class="fa fa-phone icon"></i>
    <input class="input-field" type="number" placeholder="Mobile" name="mobile" required>
  </div>
  

  <!-- Languages Known -->
  <div class="input-container">
    <i class="fa fa-language icon"></i>
    <input class="input-field" type="text" placeholder="Languages Known (comma-separated)" name="languages_known">
  </div>
 
  

  <div class="input-container">
  <i class="fa fa-id-card icon"></i>
    <input class="input-field" type="text" placeholder="Registration Number" name="registration_no" required>
  </div>

  <div class="input-container">
    <i class="fa fa-calendar icon"></i>
    <input class="input-field" type="date" placeholder="Year of registration" name="year_of_registration" style="width: 50%;" required><pre>    Year Of Registration   </pre>
  </div>

  <div class="input-container">
    <i class="fa fa-user-md icon"></i>
    <input class="input-field" type="text" placeholder="Qualification" name="qualification" required>
  </div>


  <div class="input-container">
    <i class="fa fa-users icon"></i>
    <input class="input-field" type="text" placeholder="State Medical Council" name="State_Medical_Council" required>
  </div>


  <!-- Specialization Dropdown and Manual Input -->
  <div class="input-container">
    <i class="fa fa-address-book icon"></i>

    <!-- Dropdown -->
    <select name="specialization" id="specialization-dropdown" onchange="toggleSpecializationInput(this)">
      <option disabled selected value="">Select Specialization</option>
      <option value="General Physician">General Physician</option>
      <option value="Hepatologist">Hepatologist</option>
      <option value="Pulmonologist">Pulmonologist</option>
      <option value="Cardiologist">Cardiologist</option>
      <option value="Endocrinologist">Endocrinologist</option>
      <option value="Orthopedician">Orthopedician</option>
      <option value="ENT Specialist">ENT Specialist</option>
      <option value="Dermatologist">Dermatologist</option>
      <option value="Urologist">Urologist</option>
      <option value="General Surgeon">General Surgeon</option>
      <option value="Other">Others</option>
    </select>

    <!-- Text input shown when "Others" selected -->
    <div id="specialization-text-container" style="display: none; margin-top: 10px; display: flex; gap: 10px; align-items: center;">
        <input class="input-field" type="text" name="specialization" placeholder="Enter your specialization manually" id="specialization-text" disabled>
        <button type="button" class="cancel-btn" onclick="cancelManualSpecialization()">Cancel</button>
    </div>


     <pre>    Specialization     </pre>
  </div>

  




  <div class="input-container">
    <i class="fa fa-key icon"></i>
    <input class="input-field" type="password" placeholder="Password" name="password" required>
  </div>
  
  <div class="input-container">
    <i class="fa fa-check icon"></i>
    <input class="input-field" type="password" placeholder="Retype Password" name="password1" required>
  </div>

  <br><br>


  <button type="submit" class="btn">Register</button>
</form>

<br><br>


<script>
  function toggleSpecializationInput(selectElement) {
    const selectedValue = selectElement.value;
    const textInputContainer = document.getElementById("specialization-text-container");
    const textInput = document.getElementById("specialization-text");

    if (selectedValue === "Other") {
      // Hide dropdown and disable it
      selectElement.disabled = true;

      // Show manual input
      textInputContainer.style.display = "flex"; // Flex to keep input + button same line
      textInput.disabled = false;
      textInput.required = true;
    }
  }

  function cancelManualSpecialization() {
    const dropdown = document.getElementById("specialization-dropdown");
    const textInputContainer = document.getElementById("specialization-text-container");
    const textInput = document.getElementById("specialization-text");

    // Reset dropdown
    dropdown.disabled = false;
    dropdown.value = "";

    // Hide and clear text input
    textInput.disabled = true;
    textInput.required = false;
    textInput.value = "";

    textInputContainer.style.display = "none";
  }
</script>




  {% endblock %}